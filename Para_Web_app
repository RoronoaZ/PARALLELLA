<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">

<title>Parallella Cluster Test Web Page</title>

<style>
.button {
  display: inline-block;
  border-radius: 4px;
  background-color: #FFFFFF;
  border: 2px solid #334455;
  color: #000000;
  text-align: center;
  font-size: 28px;
  padding: 20px;
  width: 200px;
  transition: all 0.5s;
  cursor: pointer;
  margin: 5px;
}

.button span {
  cursor: pointer;
  display: inline-block;
  position: relative;
  transition: 0.5s;
}

.button span:after {
  content: '\00bb';
  position: absolute;
  opacity: 0;
  top: 0;
  right: -20px;
  transition: 0.5s;
}

.button:hover span {
  padding-right: 25px;
}

.button:hover span:after {
  opacity: 1;
  right: 0;
}

.wrapper {
    text-align: center;
	
}

#ip {
    border-radius: 25px;
    border: 2px solid #334455;
	margin-top: 15px;
    padding: 25px; 
    width: 200px;
    height: 15px;
	font-family: "Times New Roman", Times, serif;
	font-size: 20px;
	text-align: center;
}

</style>

</head>

<body>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
  <script src="http://evanplaice.github.io/jquery-csv/src/jquery.csv.min.js"></script>
  
  <!-- Header -->
<header class="w3-container w3-theme w3-padding" id="myHeader">
  <i onclick="w3_open()" class="fa fa-bars w3-xlarge w3-button w3-theme"></i> 
  <div class="w3-center">
  <h4>The official page of our Parallella Cluster</h4>
  <h1 class="w3-xxxlarge w3-animate-bottom">Click & Test our Green Web Server</h1>
    <div class="w3-padding-32">
	<div class="wrapper" >
	<!--class="w3-input w3-border w3-round-large"-->	
		<button class="button" onclick="SendHttpReqs()" style="vertical-align:middle"> <span>TEST</span> </button><br>
		<input  id="ip" type="text" maxlength="5" style="width: 200px;">
	
	</div>
      <!--<button class="w3-btn w3-xlarge w3-dark-grey w3-hover-light-grey" onclick="document.getElementById('id01').style.display='block'" style="font-weight:900;">LEARN W3.CSS</button>-->
    </div>
  </div>
</header>

<!-- Modal -->
<div id="id01" class="w3-modal">
    <div class="w3-modal-content w3-card-4 w3-animate-top">
      <header class="w3-container w3-theme-l1"> 
        <span onclick="document.getElementById('id01').style.display='none'"
        class="w3-button w3-display-topright">Ã—</span>
        <h4>The test results </h4>
        <h5>The cluster achieved the following results  <i class="fa fa-smile-o"></i></h5>
      </header>
      <div class="w3-padding">
        <p>Cool huh? Ok, enough teasing around..</p>
        <!-- <p>Go to our <a class="w3-btn" href="/w3css/default.asp">W3.CSS Tutorial</a> to learn more!</p>-->
      </div>
      <footer class="w3-container w3-theme-l1">
        <p>Parallella Cluster</p>
      </footer>
    </div>
</div>

<div class="w3-row-padding w3-center w3-margin-top">
<div class="w3-third">
  <div class="w3-card w3-container" style="min-height:460px">
  <h3>Energy Efficient</h3><br>
  <i class="fa fa-desktop w3-margin-bottom w3-text-theme" style="font-size:120px"></i>
  
  <p>Consumes less than standard servers</p>
  <p>Strong competitor for other supercomputers</p>
  <p>Runs only @5W</p>
  
  </div>
</div>

<div class="w3-third">
  <div class="w3-card w3-container" style="min-height:460px">
  <h3>Low cost</h3><br>
  <i class="fa fa-css3 w3-margin-bottom w3-text-theme" style="font-size:120px"></i>
  
  <p>Money saver</p>
  <p>Portable</p>
  <p>Only 99$ per board</p>
  
  </div>
</div>

<div class="w3-third">
  <div class="w3-card w3-container" style="min-height:460px">
  <h3>A Fit for IoT</h3><br>
  <i class="fa fa-diamond w3-margin-bottom w3-text-theme" style="font-size:120px"></i>
  
  <p>Dedicated for Physical Web Apps</p>
  <p>Fits for other Iot uses</p>
  
  </div>
</div>
</div>


  <script>
  
  // Side navigation
function w3_open() {
    var x = document.getElementById("mySidebar");
    x.style.width = "100%";
    x.style.fontSize = "40px";
    x.style.paddingTop = "10%";
    x.style.display = "block";
}
function w3_close() {
    document.getElementById("mySidebar").style.display = "none";
}

// Tabs
function openCity(evt, cityName) {
  var i;
  var x = document.getElementsByClassName("city");
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";
  }
  var activebtn = document.getElementsByClassName("testbtn");
  for (i = 0; i < x.length; i++) {
      activebtn[i].className = activebtn[i].className.replace(" w3-dark-grey", "");
  }
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " w3-dark-grey";
}

var mybtn = document.getElementsByClassName("testbtn")[0];
mybtn.click();

// Accordions
function myAccFunc(id) {
    var x = document.getElementById(id);
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else { 
        x.className = x.className.replace(" w3-show", "");
    }
}

// Slideshows
var slideIndex = 1;

function plusDivs(n) {
slideIndex = slideIndex + n;
showDivs(slideIndex);
}

function showDivs(n) {
  var x = document.getElementsByClassName("mySlides");
  if (n > x.length) {slideIndex = 1}    
  if (n < 1) {slideIndex = x.length} ;
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";  
  }
  x[slideIndex-1].style.display = "block";  
}

showDivs(1);

// Progress Bars
function move() {
  var elem = document.getElementById("myBar");   
  var width = 5;
  var id = setInterval(frame, 10);
  function frame() {
    if (width == 100) {
      clearInterval(id);
    } else {
      width++; 
      elem.style.width = width + '%'; 
      elem.innerHTML = width * 1  + '%';
    }
  }
}
  
  
function SendHttpReqs() {

	var i;
	var cpt1=0;
	var cpt2=0;
	for (i=0; i<10000; i++){
		//var connection = new WebSocket('ws://10.1.119.224:8777', ['soap', 'xmpp']);
		//var connection1 = new WebSocket('ws://10.1.117.208:8779', ['soap', 'xmpp']);
		var connection = new WebSocket('ws://10.52.10.94:8777/index.html', ['soap', 'xmpp']);
		connection = new WebSocket('ws://10.52.11.157:8777/index.html', ['soap', 'xmpp']);
		//var connection = new WebSocket('ws://192.168.1.103:8777/index.html', ['soap', 'xmpp']);
	}
	
	
	// When the connection is open, send some data to the server
	connection.onopen = function () {
	//connection.send('Ping'); // Send the message 'Ping' to the server
		cpt2++;
		alert(cpt2+" Hi there");
	};

	// Log errors
	connection.onerror = function (error) {
		console.log('WebSocket Error ' + error);
	
		//cpt2++;
		alert(cpt2+" "+ error);
	};

	// Log messages from the server
	connection.onmessage = function (e) {
	console.log('Server: ' + e.data);
		alert("DONE"+ console.log('Server: ' + e.data));
	};
	
	//Second Node
	connection1.onopen = function () {
	//connection.send('Ping'); // Send the message 'Ping' to the server
	};

	// Log errors
	connection1.onerror = function (error) {
		console.log('WebSocket Error ' + error);
	
		cpt1++;
		alert(cpt1+" "+ error);
	};

	// Log messages from the server
	connection1.onmessage = function (e) {
		console.log('Server: ' + e.data);
	};
	
}
	
  </script>
  
 
 </body>
 </html>
